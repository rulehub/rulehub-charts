---
# Negative test: kyverno.enabled provided as string should NOT enable kyverno block
suite: Invalid type handling (kyverno.enabled)

templates:
  - templates/policy-sets.yaml

tests:
  - it: kyverno.enabled as string => kyverno block absent
    set:
      kyverno:
        enabled: "true" # invalid type (string)
      gatekeeper:
        enabled: false
    asserts:
      - isNull:
          path: spec.kyverno
